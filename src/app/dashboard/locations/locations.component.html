<div class="locations content">
  <div class="top row">
    <div class="title col l6 m12">
      <div class="main-title left">Locations</div>
      <div class="sub-title">{{total}} total</div>
    </div>
    <div class="filter uptracker-form ">
      <div class="col l2 s4 left input wide-input">
        <input type="text" placeholder="Keyword search" [(ngModel)]="searchKey" class="col s12" (input)="locationsFilter($event)" />
      </div>
      <div class="col l2 s4 select wide-input">
        <select title="sort by" [(ngModel)]="sortBy" materialize="material_select" (change)="locationsSort($event)">
          <option value="relevance">Relevance</option>
          <option value="name">Name</option>
          <option value="location_type">Location type</option>
        </select>
      </div>
      <div class="col l2 s4">
        <button type="button" [routerLink]="'add'" class="uptracker-form-btn waves-light waves-effect wide">Add New Location</button>
      </div>
    </div>
    <div class="clearfix"></div>
  </div>

  <div [class.opacity]="(searchKey)" class="row transparent reset-filters">
    <div class="col s12 center-align">
      <a (click)="resetFilters()" class="">Reset Filters</a>
    </div>
  </div>

  <div class="list left-align">
    <div class="item" *ngFor="let location of locations$ | async">
      <div class="img" [ngStyle]="{ 'background-image': 'url('+location.image+')' }"  [routerLink]="'view/'+location.id"></div>
      <div class="info">
        <div class="ttl"  [routerLink]="'view/'+location.id">{{location.name}}</div>
        <div class="edit"  [routerLink]="'edit/'+location.id"></div>
      </div>
    </div>
    <div class="empty item"  [routerLink]="'add'"></div>
  </div>
</div>